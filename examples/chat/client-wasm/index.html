<html>
  <body>
    <input id="room" value=""/>
    <button onclick="window.joinRoom()">Join Room</button> <br />
    <hr/>
    Message: <textarea id="message">This is my DataChannel message!</textarea>
    <br />
    <select id="msg_room">
      <option value="lobby">lobby</option>
    </select>
    <button onclick="window.sendMessage()">Send Message</button> <br />
    <hr/>
    <div id="logs"></div>
  </body>
  <script type="module">
    // Use ES module import syntax to import functionality from the module
    // that we have compiled.
    //
    // Note that the `default` import is an initialization function which
    // will "boot" the module and make it ready to use. Currently browsers
    // don't support natively imported WebAssembly as an ES module, but
    // eventually the manual initialization won't be required!
    import init, {send_message, join_room} from './pkg/client_wasm.js';

    await init();

    window.sendMessage = send_message;
    window.joinRoom = join_room;
    
  </script>
</html>